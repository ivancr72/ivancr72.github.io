<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://moment.github.io/luxon/global/luxon.js" ></script>
        <title>calendar</title>
        <script>
            id = x => document.getElementById(x)
            function ready() {
                now = luxon.DateTime.now()
                id`local`.innerText = `${now.toISOWeekDate()} ${now.toISOTime()}`
                utc = now.toUTC()
                id`utc`.innerText = `${utc.toISOWeekDate()} ${utc.toISOTime()}`
            }
            function update_greg() {
                date = luxon.DateTime.utc(
                    +id`greg_year` .value, 
                    +id`greg_month`.value, 
                    +id`greg_day`  .value,
                );
                id`week_year`.value = date.weekYear || 0
                id`week_week`.value = date.weekNumber || 0
                id`week_day`.value = date.weekday || 0
            }
            function update_week() {
                date = luxon.DateTime.fromObject({ 
                    weekYear:   +id`week_year`.value, 
                    weekNumber: +id`week_week`.value, 
                    weekday:    +id`week_day` .value });
                id`greg_year`.value = date.year || 0
                id`greg_month`.value = date.month || 0
                id`greg_day`.value = date.day || 0
            }
        </script>
        <style>
            body{
                font-family: sans-serif;
                padding: 10px 10px;
            }
            p, h2 {
                text-align: center;
            }
            p {
                margin: 10px 10px 10px 10px;
            }
            .big {
                font-size: 36px;
                margin: 10px 10px 20px 10px;
                font-weight: bold;
            }
            .small {
                font-size: 16px;
            }
            input {
                font: inherit;
                width: 4em;
            }
        </style>
    </head>
    <body onload="ready()">
        <p class=small>date and time in your local timezone:</p>
        <p id=local class=big></p>
        <p class=small>date and time in UTC:</p>
        <p id=utc class=big></p>
        <p><button onclick="ready()">reload</button></p>
        <hr>
        <h2> conversion </h2>
        <p> gregorian (YYYY-MM-DD):
            <input type=number size="1" min=1 max=9999 value=2020 id=greg_year oninput=update_greg()><!--
            -->-<input type=number size="1" min=1 max=12 value=12 id=greg_month oninput=update_greg()><!--
            -->-<input type=number size="1" min=1 max=31 value=31 id=greg_day oninput=update_greg()>
        </p>
        <p> ISO week:
               <input type=number size="1" min=1 max=9999 value=2019 id=week_year oninput=update_week()><!--
            -->-W<input type=number size="1" min=1 max=54 value=54 id=week_week oninput=update_week()><!--
            -->-<input type=number size="1" min=1 max=7 value=4 id=week_day oninput=update_week()>
        </p>
    </body>
</html>
